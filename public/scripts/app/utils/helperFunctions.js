
//this array contains all the emojis used in the app
export const reactArray = {
	//the first 6 emojis are the default emojis
	primary: ['ðŸ’™', 'ðŸ˜†','ðŸ˜ ','ðŸ˜¢','ðŸ˜®','ðŸ™‚','ðŸŒ»'],
	last: 'ðŸŒ»',
	expanded: ['ðŸ˜€','ðŸ˜','ðŸ˜‚','ðŸ¤£','ðŸ˜ƒ','ðŸ˜„','ðŸ˜…','ðŸ˜†','ðŸ˜‰','ðŸ˜Š','ðŸ˜‹','ðŸ˜Ž','ðŸ˜','ðŸ˜˜','ðŸ¥°','ðŸ˜—','ðŸ˜™','ðŸ˜š','ðŸ™‚','ðŸ¤—','ðŸ¤©','ðŸ¤”','ðŸ¤¨','ðŸ˜','ðŸ˜‘','ðŸ˜¶','ðŸ™„','ðŸ˜','ðŸ˜£','ðŸ˜¥','ðŸ˜®','ðŸ¤','ðŸ˜¯','ðŸ˜ª','ðŸ˜«','ðŸ¥±','ðŸ˜´','ðŸ˜Œ','ðŸ˜›','ðŸ˜œ','ðŸ˜','ðŸ¤¤','ðŸ˜’','ðŸ˜“','ðŸ˜”','ðŸ˜•','ðŸ™ƒ','ðŸ¤‘','ðŸ˜²','ðŸ™','ðŸ˜–','ðŸ˜ž','ðŸ˜Ÿ','ðŸ˜¤','ðŸ˜¢','ðŸ˜­','ðŸ˜¦','ðŸ˜§','ðŸ˜¨','ðŸ˜©','ðŸ¤¯','ðŸ˜¬','ðŸ˜°','ðŸ˜±','ðŸ¥µ','ðŸ¥¶','ðŸ˜³','ðŸ¤ª','ðŸ˜µ','ðŸ¥´','ðŸ˜ ','ðŸ˜¡','ðŸ¤¬','ðŸ˜·','ðŸ¤’','ðŸ¤•','ðŸ¤¢','ðŸ¤®','ðŸ¤§','ðŸ˜‡','ðŸ¥³','ðŸ¥º','ðŸ¤ ','ðŸ¤¡','ðŸ¤¥','ðŸ¤«','ðŸ¤­','ðŸ§','ðŸ¤“','ðŸ˜ˆ','ðŸ‘¿','ðŸ‘¹','ðŸ‘º','ðŸ’€','â˜ ','ðŸ‘»','ðŸ‘½','ðŸ‘¾','ðŸ¤–','ðŸ’©','ðŸ˜º','ðŸ˜¸','ðŸ˜¹','ðŸ˜»','ðŸ™ˆ','ðŸ™‰','ðŸ™Š','ðŸµ','ðŸ¶','ðŸº','ðŸ±','ðŸ¦','ðŸ¯','ðŸ¦’','ðŸ¦Š','ðŸ¦','ðŸ®','ðŸ·','ðŸ—','ðŸ­','ðŸ¹','ðŸ°','ðŸ»','ðŸ¨','ðŸ¼','ðŸ¸','ðŸ¦“','ðŸ´','ðŸ¦„','ðŸ”','ðŸ²','ðŸ½','ðŸ§','ðŸ¥','ðŸ¤','ðŸ£', 'ðŸŒ»', 'ðŸŒ¸', 'ðŸ¥€', 'ðŸŒ¼', 'ðŸŒ·', 'ðŸŒ¹', 'ðŸµï¸', 'ðŸŒº', 'ðŸ¦‡','ðŸ¦‹','ðŸŒ','ðŸ›','ðŸ¦Ÿ','ðŸ¦—','ðŸœ','ðŸ','ðŸž','ðŸ¦‚','ðŸ•·','ðŸ•¸','ðŸ¦ ','ðŸ§žâ€â™€ï¸','ðŸ§žâ€â™‚ï¸','ðŸ—£','ðŸ‘€','ðŸ¦´','ðŸ¦·','ðŸ‘…','ðŸ‘„','ðŸ§ ','ðŸ¦¾','ðŸ¦¿','ðŸ‘©ðŸ»','ðŸ‘¨ðŸ»','ðŸ§‘ðŸ»','ðŸ‘§ðŸ»','ðŸ‘¦ðŸ»','ðŸ§’ðŸ»','ðŸ‘¶ðŸ»','ðŸ‘µðŸ»','ðŸ‘´ðŸ»','ðŸ§“ðŸ»','ðŸ‘©ðŸ»â€ðŸ¦°','ðŸ‘¨ðŸ»â€ðŸ¦°','ðŸ‘©ðŸ»â€ðŸ¦±','ðŸ‘¨ðŸ»â€ðŸ¦±','ðŸ‘©ðŸ»â€ðŸ¦²','ðŸ‘¨ðŸ»â€ðŸ¦²','ðŸ‘©ðŸ»â€ðŸ¦³','ðŸ‘¨ðŸ»â€ðŸ¦³','ðŸ‘±ðŸ»â€â™€ï¸','ðŸ‘±ðŸ»â€â™‚ï¸','ðŸ‘¸ðŸ»','ðŸ¤´ðŸ»','ðŸ‘³ðŸ»â€â™€ï¸','ðŸ‘³ðŸ»â€â™‚ï¸','ðŸ‘²ðŸ»','ðŸ§”ðŸ»','ðŸ‘¼ðŸ»','ðŸ¤¶ðŸ»','ðŸŽ…ðŸ»','ðŸ‘®ðŸ»â€â™€ï¸','ðŸ‘®ðŸ»â€â™‚ï¸','ðŸ•µðŸ»â€â™€ï¸','ðŸ•µðŸ»â€â™‚ï¸','ðŸ’‚ðŸ»â€â™€ï¸','ðŸ’‚ðŸ»â€â™‚ï¸','ðŸ‘·ðŸ»â€â™€ï¸','ðŸ‘·ðŸ»â€â™‚ï¸','ðŸ‘©ðŸ»â€âš•ï¸','ðŸ‘¨ðŸ»â€âš•ï¸','ðŸ‘©ðŸ»â€ðŸŽ“','ðŸ‘¨ðŸ»â€ðŸŽ“','ðŸ‘©ðŸ»â€ðŸ«','ðŸ‘¨ðŸ»â€ðŸ«','ðŸ‘©ðŸ»â€âš–ï¸','ðŸ‘¨ðŸ»â€âš–ï¸','ðŸ‘©ðŸ»â€ðŸŒ¾','ðŸ‘¨ðŸ»â€ðŸŒ¾','ðŸ‘©ðŸ»â€ðŸ³','ðŸ‘¨ðŸ»â€ðŸ³','ðŸ‘©ðŸ»â€ðŸ”§','ðŸ‘¨ðŸ»â€ðŸ”§','ðŸ‘©ðŸ»â€ðŸ­','ðŸ‘¨ðŸ»â€ðŸ­','ðŸ‘©ðŸ»â€ðŸ’¼','ðŸ‘¨ðŸ»â€ðŸ’¼','ðŸ‘©ðŸ»â€ðŸ”¬','ðŸ‘¨ðŸ»â€ðŸ”¬','ðŸ‘©ðŸ»â€ðŸ’»','ðŸ‘¨ðŸ»â€ðŸ’»','ðŸ‘©ðŸ»â€ðŸŽ¤','ðŸ‘¨ðŸ»â€ðŸŽ¤','ðŸ‘©ðŸ»â€ðŸŽ¨','ðŸ‘¨ðŸ»â€ðŸŽ¨','ðŸ‘©ðŸ»â€âœˆï¸','ðŸ‘¨ðŸ»â€âœˆï¸','ðŸ‘©ðŸ»â€ðŸš€','ðŸ‘¨ðŸ»â€ðŸš€','ðŸ‘©ðŸ»â€ðŸš’','ðŸ‘¨ðŸ»â€ðŸš’','ðŸ§•ðŸ»','ðŸ‘°ðŸ»','ðŸ¤µðŸ»','ðŸ¤±ðŸ»','ðŸ¤°ðŸ»','ðŸ¦¸ðŸ»â€â™€ï¸','ðŸ¦¸ðŸ»â€â™‚ï¸','ðŸ¦¹ðŸ»â€â™€ï¸','ðŸ¦¹ðŸ»â€â™‚ï¸','ðŸ§™ðŸ»â€â™€ï¸','ðŸ§™ðŸ»â€â™‚ï¸','ðŸ§šðŸ»â€â™€ï¸','ðŸ§šðŸ»â€â™‚ï¸','ðŸ§›ðŸ»â€â™€ï¸','ðŸ§›ðŸ»â€â™‚ï¸','ðŸ§œðŸ»â€â™€ï¸','ðŸ§œðŸ»â€â™‚ï¸','ðŸ§ðŸ»â€â™€ï¸','ðŸ§ðŸ»â€â™‚ï¸','ðŸ§ŸðŸ»â€â™€ï¸','ðŸ§ŸðŸ»â€â™‚ï¸','ðŸ™ðŸ»â€â™€ï¸','ðŸ™ðŸ»â€â™‚ï¸','ðŸ™ŽðŸ»â€â™€ï¸','ðŸ™ŽðŸ»â€â™‚ï¸','ðŸ™…ðŸ»â€â™€ï¸','ðŸ™…ðŸ»â€â™‚ï¸','ðŸ™†ðŸ»â€â™€ï¸','ðŸ™†ðŸ»â€â™‚ï¸','ðŸ§ðŸ»â€â™€ï¸','ðŸ§ðŸ»â€â™‚ï¸','ðŸ’ðŸ»â€â™€ï¸','ðŸ’ðŸ»â€â™‚ï¸','ðŸ™‹ðŸ»â€â™€ï¸','ðŸ™‹ðŸ»â€â™‚ï¸','ðŸ™‡ðŸ»â€â™€ï¸','ðŸ™‡ðŸ»â€â™‚ï¸','ðŸ¤¦ðŸ»â€â™€ï¸','ðŸ¤¦ðŸ»â€â™‚ï¸','ðŸ¤·ðŸ»â€â™€ï¸','ðŸ¤·ðŸ»â€â™‚ï¸','ðŸ’†ðŸ»â€â™€ï¸','ðŸ’†ðŸ»â€â™‚ï¸','ðŸ’‡ðŸ»â€â™€ï¸','ðŸ’‡ðŸ»â€â™‚ï¸','ðŸ§–ðŸ»â€â™€ï¸','ðŸ§–ðŸ»â€â™‚ï¸','ðŸ¤¹ðŸ»â€â™€ï¸','ðŸ¤¹ðŸ»â€â™‚ï¸','ðŸ‘©ðŸ»â€ðŸ¦½','ðŸ‘¨ðŸ»â€ðŸ¦½','ðŸ‘©ðŸ»â€ðŸ¦¼','ðŸ‘¨ðŸ»â€ðŸ¦¼','ðŸ‘©ðŸ»â€ðŸ¦¯','ðŸ‘¨ðŸ»â€ðŸ¦¯','ðŸ§ŽðŸ»â€â™€ï¸','ðŸ§ŽðŸ»â€â™‚ï¸','ðŸ§ðŸ»â€â™€ï¸','ðŸ§ðŸ»â€â™‚ï¸','ðŸš¶ðŸ»â€â™€ï¸','ðŸš¶ðŸ»â€â™‚ï¸','ðŸƒðŸ»â€â™€ï¸','ðŸƒðŸ»â€â™‚ï¸','ðŸ’ƒðŸ»','ðŸ•ºðŸ»','ðŸ§—ðŸ»â€â™€ï¸','ðŸ§—ðŸ»â€â™‚ï¸','ðŸ§˜ðŸ»â€â™€ï¸','ðŸ§˜ðŸ»â€â™‚ï¸','ðŸ›€ðŸ»','ðŸ›ŒðŸ»','ðŸ•´ðŸ»','ðŸ‡ðŸ»','ðŸ‚ðŸ»','ðŸ’ªðŸ»','ðŸ¦µðŸ»','ðŸ¦¶ðŸ»','ðŸ‘‚ðŸ»','ðŸ¦»ðŸ»','ðŸ‘ƒðŸ»','ðŸ¤ðŸ»','ðŸ‘ˆðŸ»','ðŸ‘‰ðŸ»','â˜ðŸ»','ðŸ‘†ðŸ»','ðŸ‘‡ðŸ»','âœŒðŸ»','ðŸ¤žðŸ»','ðŸ––ðŸ»','ðŸ¤˜ðŸ»','ðŸ¤™ðŸ»','ðŸ–ðŸ»','âœ‹ðŸ»','ðŸ‘ŒðŸ»','ðŸ‘ðŸ»','ðŸ‘ŽðŸ»','âœŠðŸ»','ðŸ‘ŠðŸ»','ðŸ¤›ðŸ»','ðŸ¤œðŸ»','ðŸ¤šðŸ»','ðŸ‘‹ðŸ»','ðŸ¤ŸðŸ»','âœðŸ»','ðŸ‘ðŸ»','ðŸ‘ðŸ»','ðŸ™ŒðŸ»','ðŸ¤²ðŸ»','ðŸ™ðŸ»','ðŸ¤ðŸ»','ðŸ’…ðŸ»','ðŸ“Œ','â¤ï¸','ðŸ§¡','ðŸ’›','ðŸ’š','ðŸ’™','ðŸ’œ','ðŸ¤Ž','ðŸ–¤','ðŸ¤','ðŸ’”','â£','ðŸ’•','ðŸ’ž','ðŸ’“','ðŸ’—','ðŸ’–','ðŸ’˜','ðŸ’','ðŸ’Ÿ','ðŸ’Œ','ðŸ’¢','ðŸ’¥','ðŸ’¤','ðŸ’¦','ðŸ’¨','ðŸ’«'],
};

/**
 * 
 * @param {string[]} array Array of reacts to process
 * @returns Map
 */
export function arrayToMap(array) {
	const map = new Map();
	array.forEach(element => {
		map.set(element.textContent, map.get(element.textContent) + 1 || 1);
	});
	return map;
}

/**
 * 
 * @param {number} timestamp 
 * @returns {string}
 */
export function getFormattedDate(timestamp) {
	timestamp = parseInt(timestamp);
	const currentTime = Date.now();
	const differenceInSeconds = Math.floor((currentTime - timestamp) / 1000);

	if (differenceInSeconds === 0) {
		return 'Just now';
	} else if (differenceInSeconds < 60) {
		return `${differenceInSeconds} secs ago`;
	} else if (differenceInSeconds < 120) {
		return '1 min ago';
	} else if (differenceInSeconds < 600) {
		return `${Math.floor(differenceInSeconds / 60)} mins ago`;
	} else {
		return new Intl.DateTimeFormat('default', {
			hour: 'numeric',
			minute: 'numeric'
		}).format(timestamp);
	}
}


/**
 * 
 * @param {Map} userTypingMap 
 * @returns string
 */
export function getTypingString(userTypingMap){
	if (userTypingMap.size > 0){
		const array = Array.from(userTypingMap.values());
		let string = '';
      
		if (array.length >= 1){
			if (array.length == 1){
				string = array[0];
			}
			else if (array.length == 2){
				string = `${array[0]} and ${array[1]}`;
			}
			else if (array.length ==  3){
				string = `${array[0]}, ${array[1]} and ${array[2]}`;
			}
			else{
				string = `${array[0]}, ${array[1]}, ${array[2]} and ${array.length - 3} other${array.length - 3 > 1 ? 's' : ''}`;
			}
		}
		string += `${array.length > 1 ? ' are ': ' is '} typing`;
		return string;
	}else{
		return '';
	}
}


/**
 * Returns a string in the format "mm:ss" representing the remaining time
 * @param {number} totalTime - the total time in seconds
 * @param {number} elapsedTime - the elapsed time in seconds
 * @returns {string} - a string in the format "mm:ss"
 */
export function remainingTime(totalTime, elapsedTime) {
	// Check if totalTime and elapsedTime are finite numbers and if totalTime is greater than 0
	if(isFinite(totalTime) && totalTime > 0 && isFinite(elapsedTime)){
		// Calculate the remaining time
		const remaining = Math.floor(totalTime) - Math.floor(elapsedTime);
		// Calculate the minutes and seconds from the remaining time
		const minutes = Math.floor(remaining / 60);
		const seconds = Math.floor(remaining % 60);
		// Return the remaining time in the format "mm:ss"
		return minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
	}else{
		// Return "00:00" if totalTime and elapsedTime are not valid numbers
		return '00:00';
	}
}

/**
 * 
 * @param {string} filename 
 * @returns string
 */
export function shortFileName(filename){
	if (filename.length > 30){
		//then shorten the filename as abc...[last10chars]
		filename = filename.substring(0, 10) + '...' + filename.substring(filename.length - 10, filename.length);
	}
	return filename;
}